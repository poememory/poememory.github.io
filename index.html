<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-canvas基础" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/24/canvas%E5%9F%BA%E7%A1%80/" class="article-date">
  <time class="dt-published" datetime="2024-01-24T07:44:59.619Z" itemprop="datePublished">2024-01-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="canvas简介"><a href="#canvas简介" class="headerlink" title="canvas简介"></a>canvas简介</h2><p>canvas，顾名思义就是画布。用于绘制各种图形图片。</p>
<p>HTML5 canvas 元素用于图形的绘制，通过脚本 (通常是JavaScript)来完成.canvas标签只是图形容器，您必须使用脚本来绘制图形。<br>你可以通过多种方法使用 canvas 绘制路径,盒、圆、字符以及添加图像。</p>
<p>特点：canvas绘制出来的图像是单纯的像素点（svg图是矢量图，也是dom元素），所画的内容与dom元素不同，canvas是一个dom元素，对其方法是对挂在canvas上对内容的操作。</p>
<h2 id="canvas基本操作"><a href="#canvas基本操作" class="headerlink" title="canvas基本操作"></a>canvas基本操作</h2><p>由于canvas是h5新增的标签，为了防止有人用古董版本浏览器，一般会这么写，canvas出不来时就让用户升级浏览器。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&#x27;mycanvas&#x27;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span>&gt;</span></span><br><span class="line">    当前的浏览器版本不支持，请升级浏览器</span><br><span class="line"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span>  </span><br></pre></td></tr></table></figure>
<p>然后就要用js对canvas进行操作，基本的画线、矩形、圆形、文字都有对应的方法，只需要弄懂其中的参数含义即可（不用背，写的时候翻一翻就可以）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 得到canvas的画布</span></span><br><span class="line"><span class="keyword">const</span> myCanvas= <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mycanvas&quot;</span>)</span><br><span class="line"><span class="comment">// 得到画布的上下文，上下文有两个，2d的上下文和3d的上下文</span></span><br><span class="line"><span class="comment">// 所有的图像绘制都是通过ctx属性或者是方法进行设置的，和canvas标签没有关系了</span></span><br><span class="line"><span class="keyword">const</span> ctx = myCanvas.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(ctx !== <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">// 设置颜色</span></span><br><span class="line">    ctx.<span class="property">fillStyle</span> = <span class="string">&#x27;green&#x27;</span></span><br><span class="line">    <span class="comment">// 绘制矩形</span></span><br><span class="line">    ctx.<span class="title function_">fillRect</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">50</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面是一些具体的方法：<br>(注意：canvas中的坐标都是以左上方为原点，坐标向下向右增大)</p>
<h4 id="绘制矩形："><a href="#绘制矩形：" class="headerlink" title="绘制矩形："></a>绘制矩形：</h4><ul>
<li>fillRect(x, y, width, height)<br>绘制一个填充的矩形</li>
<li>strokeRect(x, y, width, height)<br>绘制一个矩形的边框</li>
<li>clearRect(x, y, width, height)<br>清除指定矩形区域，让清除部分完全透明。</li>
</ul>
<h4 id="绘制路径与笔触："><a href="#绘制路径与笔触：" class="headerlink" title="绘制路径与笔触："></a>绘制路径与笔触：</h4><p>绘制路径中我们要有一个画笔的概念，画笔有一个位置</p>
<ul>
<li>moveto(x,y)<br>画笔移动到某处</li>
<li>lineTo(x, y)画一条到某处的线</li>
<li>beginPath()<br>新建一条路径，生成之后，图形绘制命令被指向到路径上生成路径。</li>
<li>closePath()<br>闭合路径之后图形绘制命令又重新指向到上下文中。</li>
<li>stroke()<br>通过线条来绘制图形轮廓。</li>
<li>fill()<br>通过填充路径的内容区域生成实心的图形。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一个画出三角形填色的例子</span></span><br><span class="line">ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">    ctx.<span class="title function_">moveTo</span>(<span class="number">75</span>, <span class="number">50</span>);</span><br><span class="line">    ctx.<span class="title function_">lineTo</span>(<span class="number">100</span>, <span class="number">75</span>);</span><br><span class="line">    ctx.<span class="title function_">lineTo</span>(<span class="number">100</span>, <span class="number">25</span>);</span><br><span class="line">    ctx.<span class="title function_">fill</span>();</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="绘制颜色："><a href="#绘制颜色：" class="headerlink" title="绘制颜色："></a>绘制颜色：</h4><p>canvas中的画笔颜色修改（实际开发中容易被之前的颜色干扰，所以封装每一个绘制函数时可以再开头修改成需要的颜色）</p>
<ul>
<li>fillStyle &#x3D; color<br>设置图形的填充颜色。</li>
<li>strokeStyle &#x3D; color<br>设置图形轮廓的颜色。</li>
</ul>
<h4 id="绘制文本："><a href="#绘制文本：" class="headerlink" title="绘制文本："></a>绘制文本：</h4><ul>
<li>fillText(text, x, y [, maxWidth])<br>在指定的 (x,y) 位置填充指定的文本，绘制的最大宽度是可选的。</li>
<li>strokeText(text, x, y [, maxWidth])<br>在指定的 (x,y) 位置绘制文本边框，绘制的最大宽度是可选的。</li>
<li>文本样式：<br>font &#x3D; value<br>当前我们用来绘制文本的样式。这个字符串使用和 CSS font 属性相同的语法。默认的字体是 10px sans-serif。</li>
</ul>
<p>除了以上，还有渐变色、透明度、线条转边样式等。需要的时候都可以一下查到而且用起来很简单，所以不必背下来，只用知道什么是可以做的和在哪里查到就可以了。</p>
<h3 id="图片绘制："><a href="#图片绘制：" class="headerlink" title="图片绘制："></a>图片绘制：</h3><p>这个是重点。实际开发中不可能让自己画三角形矩形圆形再填色一堆内容，更多的时候是用设计给好的图片，就是把图片画到画布上去。<br><code>drawImage</code><br>其中 image 是 image 或者 canvas 对象。<br>（注意这里的image是一个Image对象或者一个dom获取的img标签）</p>
<p><code>drawImage</code>的参数设置有点让人晕头转向。我们一步一步来看。</p>
<ul>
<li><code>drawImage(image,x,y)</code>x,y是图片的坐标，图片的左上角点坐标为（x,y）,此时图片的宽高皆为其像素默认宽高</li>
<li><code>drawImage(image, x, y, width, height)</code>这个方法多了 2 个参数：width 和 height，这两个参数用来控制 当向 canvas 画入时应该缩放的大小。此时图片的宽高为width、height。</li>
<li><code>drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)</code><br>前 4 个是定义图像源的切片位置和大小，后 4 个则是定义切片的目标显示位置和大小。可以对照下图理解一下。<img src='canvas_drawimage.jpg'></li>
</ul>
<h3 id="状态保存与回复"><a href="#状态保存与回复" class="headerlink" title="状态保存与回复"></a>状态保存与回复</h3><ul>
<li><code>save()</code><br>保存画布 (canvas) 的所有状态</li>
<li><code>restore()</code><br>save 和 restore 方法是用来保存和恢复 canvas 状态的，都没有参数。Canvas 的状态就是当前画面应用的所有样式和变形的一个快照。</li>
<li>你可以调用任意多次 save方法。每一次调用 restore 方法，上一个保存的状态就从栈中弹出，所有设定都恢复。</li>
</ul>
<h2 id="canvas实现动画"><a href="#canvas实现动画" class="headerlink" title="canvas实现动画"></a>canvas实现动画</h2><p>我们用canvas绘制了一个图形，一旦绘制成功了，canvas就像素化了他们。canvas没有能力，从画布上再次得到这个图形，也就是我们没有能力去修改已经在画布上的内容，这个就是canvas比较轻量的原因，Flash重的原因之一就有它可以通过对应的api得到已经上“画布”的内容然后再次绘制。</p>
<p>所以我们得到了canvas的动画的流程：画-&gt;更新数据内容-&gt;清除画布内容-&gt;重新画</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置颜色</span></span><br><span class="line">ctx.<span class="property">fillStyle</span> = <span class="string">&quot;blue&quot;</span></span><br><span class="line"><span class="comment">// 初始信号量</span></span><br><span class="line"><span class="keyword">let</span> left = -<span class="number">200</span></span><br><span class="line"><span class="comment">// 动画过程</span></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">   <span class="comment">// 清除画布,0,0代表从什么位置开始,600,600代表清除的宽度和高度</span></span><br><span class="line">   ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">600</span>,<span class="number">600</span>)</span><br><span class="line">   <span class="comment">// 更新信号量</span></span><br><span class="line">   left++</span><br><span class="line">   <span class="comment">// 如果已经走出画布，则更新信号量为初始位置</span></span><br><span class="line">   <span class="keyword">if</span>(left &gt; <span class="number">600</span>) &#123;</span><br><span class="line">       left = -<span class="number">200</span></span><br><span class="line">   &#125;</span><br><span class="line">   ctx.<span class="title function_">fillRect</span>(left, <span class="number">100</span>, <span class="number">200</span>, <span class="number">200</span>)</span><br><span class="line">&#125;,<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p>看看上面这个例子，setInterval不断的调用它第一个参数函数的内容。函数中清除再更新方块的位置再渲染。</p>
<p>setInterval间隔一段时间不断调用函数的特性让我们可以用它来重绘。当然间隔一段固定的时间也有其弊端，这个时候可以用raf动画，这里不展开说明。</p>
<p>上面的例子中只有一个简单的图形和一个简单的left坐标，写起来很简单。但是在实际开发中，一个画布中会有很多不同的内容在动，如果为每一个内容添加其变量属性再写一堆绘制函数的话，整个代码就会先得很乱。所以我们将每一种类型的图形封装成对应的类，每一个内容是该类的对象，将该对象的数据内容存在对象中不要放在全局里，每个对象有其更新数据和绘制的方法。再在setInterval中一起调用全部对象的更新与绘制函数。</p>
<p>如果有兴趣还可看看看下面的文章：<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/bleaka/p/16143470.html">https://www.cnblogs.com/bleaka/p/16143470.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/24/canvas%E5%9F%BA%E7%A1%80/" data-id="clrrhcshd0000psty9xn3enx6" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-video" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/07/video/" class="article-date">
  <time class="dt-published" datetime="2023-12-07T08:57:47.000Z" itemprop="datePublished">2023-12-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/12/07/video/">video</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="video基础信息"><a href="#video基础信息" class="headerlink" title="video基础信息"></a>video基础信息</h2><p><code>autoplay</code>: 表示视频是否自动播放。(然而，大多数浏览器对自动播放进行了限制，特别是在没有用户交互的情况下。)</p>
<p>buffered: 表示视频已缓冲的时间范围。</p>
<p>controls: 表示是否显示视频控制条。</p>
<p><code>currentTime</code>: 表示当前播放的时间。(拖动进度条修改的就是他)</p>
<p>dataset: 返回元素的自定义数据集。</p>
<p>defaultMuted, defaultPlaybackRate: 分别表示默认是否静音和默认播放速率。</p>
<p>duration: 表示媒体的总播放时长。</p>
<p>ended: 表示媒体是否已经播放结束。</p>
<p>muted: 表示视频是否静音。</p>
<p>paused: 表示视频是否处于暂停状态。</p>
<p>playbackRate: 表示视频的播放速率。</p>
<p>played: 表示已经播放的时间范围。</p>
<p>poster: 表示视频的封面图片。</p>
<p>preload: 规定是否在页面加载时预加载视频。</p>
<p>看着这些属性可以干些啥？每次我都不是团员还要做qndxx，就很烦，然而那个视频进度条被隐藏了（上述controls属性），只需要输入以下就可以播放完。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> v=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;video&quot;</span>)</span><br><span class="line">v.<span class="property">currentTime</span>=v.<span class="property">duration</span></span><br></pre></td></tr></table></figure>
<p>下面还有一些video的事件：</p>
<ul>
<li>loadstart 浏览器开始寻找指定的视频时触发</li>
<li>durationchange 时长变化触发</li>
<li>canplay 可播放监听</li>
<li>pause 暂停监听</li>
<li>timeupdate 目前的播放位置已更改时</li>
<li>ended：播放结束</li>
<li>volumechange：当音量更改时</li>
<li>ratechange：当视频的播放速度已更改时</li>
</ul>
<p>再有，我们会发现网站为了美化界面，会自定义进度条，其实就是利用上述属性进行的封装，不同button修改对应属性。</p>
<h2 id="canvas处理视频"><a href="#canvas处理视频" class="headerlink" title="canvas处理视频"></a>canvas处理视频</h2><p>你可能会绝对困惑，canvas跟视频怎么扯上关系了。用canvas放视频？曾经学习canvas时的我冒出过这个想法，然后觉得自己有大病。直到—-我无意间用edge在b站点了下F12，视频地方显示的是canvas标签（更奇怪的是chrome上就是好好的video标签）。</p>
<p><strong>实现思路</strong>：<br>Canvas中可以使用<code>ctx.drawImage(video, x, y,width,height)</code>来对视频当前帧的图像进行绘制，其中video参数就是HTML5中的video标签。故我们可以通过Canvas的动态效果不断获取video当前画面，渲染到Canvas画布上。并且通过改变video标签的属性，来实现在Canvas中处理视频的一整套效果。可以理解成在Canvas中新建一个播放器，该播放器视频源是video标签创建，播放器的各种方法最终指向对video标签本身属性和方法的改变。</p>
<p>step1:创建video标签</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建Video标签</span></span><br><span class="line">video = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;Video&#x27;</span>);</span><br><span class="line">video.<span class="property">src</span> = <span class="string">&#x27;exmaple.mp4&#x27;</span>;</span><br><span class="line">video.<span class="property">controls</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将video标签插入dom结点，用于展示原始video。</span></span><br><span class="line"><span class="comment">//首先应该在body中有一个id为videodiv的div结点。</span></span><br><span class="line"><span class="comment">//在实战中不需要插入dom结点（不用添加下面两行语句）就可以使用上面创建的video对象</span></span><br><span class="line"><span class="keyword">var</span> videodiv=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;videodiv&#x27;</span>);</span><br><span class="line">videodiv.<span class="title function_">appendChild</span>(video);</span><br></pre></td></tr></table></figure>
<p>step2：Canvas中不断绘制video标签内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>()</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(render)</span><br><span class="line">    ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>,canvas.<span class="property">width</span>,canvas.<span class="property">height</span>)</span><br><span class="line">    ctx.<span class="title function_">drawImage</span>(video, <span class="number">0</span>, <span class="number">0</span>,width,height)  <span class="comment">//绘制视频</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>就是说现在的视频成了一张张图了。有什么用？我靠，一张张图都给到canvas上了还怎么用？想做什么交互效果都可以。动画效果类似弹幕也可以直接filltext然后更新，比在video标签上加div的动画更好。</p>
<h2 id="结合Three-js"><a href="#结合Three-js" class="headerlink" title="结合Three.js"></a>结合Three.js</h2><p>都可以一张张放到canvas里了，那同样用canvas的three.js不是也可以用了？three.js的纹理效果应该可以实现。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="variable constant_">THREE</span> <span class="keyword">from</span> <span class="string">&#x27;three&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">OrbitControls</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;three/examples/jsm/controls/OrbitControls.js&#x27;</span>;</span><br><span class="line"><span class="comment">// 创建场景</span></span><br><span class="line"><span class="keyword">var</span> scene = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Scene</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建相机</span></span><br><span class="line"><span class="keyword">var</span> camera = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">PerspectiveCamera</span>(<span class="number">75</span>, <span class="variable language_">window</span>.<span class="property">innerWidth</span> / <span class="variable language_">window</span>.<span class="property">innerHeight</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</span><br><span class="line">camera.<span class="property">position</span>.<span class="title function_">set</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 WebGL 渲染器</span></span><br><span class="line"><span class="keyword">var</span> renderer = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">WebGLRenderer</span>();</span><br><span class="line">renderer.<span class="title function_">setSize</span>(<span class="variable language_">window</span>.<span class="property">innerWidth</span>, <span class="variable language_">window</span>.<span class="property">innerHeight</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(renderer.<span class="property">domElement</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 VR 视频纹理</span></span><br><span class="line"><span class="keyword">var</span> video = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;video&#x27;</span>);</span><br><span class="line">video.<span class="property">src</span> = <span class="string">&#x27;/VID_20231125_132828.mp4&#x27;</span>;</span><br><span class="line">video.<span class="property">crossOrigin</span> = <span class="string">&#x27;anonymous&#x27;</span>; <span class="comment">// 跨域时需要设置</span></span><br><span class="line">video.<span class="property">loop</span> = <span class="literal">true</span>;</span><br><span class="line">video.<span class="title function_">play</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个 VideoTexture 对象，以便将视频作为纹理应用到 Three.js 的三维对象上</span></span><br><span class="line"><span class="keyword">var</span> videoTexture = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">VideoTexture</span>(video);</span><br><span class="line">videoTexture.<span class="property">minFilter</span> = <span class="variable constant_">THREE</span>.<span class="property">LinearFilter</span>;</span><br><span class="line">videoTexture.<span class="property">magFilter</span> = <span class="variable constant_">THREE</span>.<span class="property">LinearFilter</span>;</span><br><span class="line"><span class="comment">// 设置纹理的格式为 RGBA 格式</span></span><br><span class="line">videoTexture.<span class="property">format</span> = <span class="variable constant_">THREE</span>.<span class="property">RGBAFormat</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建立方体几何体</span></span><br><span class="line"><span class="keyword">var</span> geometry = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">BoxGeometry</span>(<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建材质</span></span><br><span class="line"><span class="keyword">var</span> material = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">MeshBasicMaterial</span>(&#123; <span class="attr">map</span>: videoTexture, <span class="attr">side</span>: <span class="variable constant_">THREE</span>.<span class="property">DoubleSide</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建网格对象</span></span><br><span class="line"><span class="keyword">var</span> cube = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Mesh</span>(geometry, material);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将立方体添加到场景中</span></span><br><span class="line">scene.<span class="title function_">add</span>(cube);</span><br><span class="line"><span class="keyword">const</span> controls=<span class="keyword">new</span> <span class="title class_">OrbitControls</span>(camera,renderer.<span class="property">domElement</span>)</span><br><span class="line"><span class="comment">// 渲染函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">animate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">requestAnimationFrame</span>(animate);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 旋转立方体</span></span><br><span class="line">    cube.<span class="property">rotation</span>.<span class="property">x</span> += <span class="number">0.01</span>;</span><br><span class="line">    cube.<span class="property">rotation</span>.<span class="property">y</span> += <span class="number">0.01</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更新视频纹理</span></span><br><span class="line">    <span class="keyword">if</span> (video.<span class="property">readyState</span> === video.<span class="property">HAVE_ENOUGH_DATA</span>) &#123;</span><br><span class="line">        videoTexture.<span class="property">needsUpdate</span> = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    controls.<span class="title function_">update</span>()</span><br><span class="line">    <span class="comment">// 渲染场景</span></span><br><span class="line">    renderer.<span class="title function_">render</span>(scene, camera);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听窗口大小变化</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    camera.<span class="property">aspect</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span> / <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">    camera.<span class="title function_">updateProjectionMatrix</span>();</span><br><span class="line">    renderer.<span class="title function_">setSize</span>(<span class="variable language_">window</span>.<span class="property">innerWidth</span>, <span class="variable language_">window</span>.<span class="property">innerHeight</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开始动画</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="function">()=&gt;</span><span class="title function_">animate</span>());</span><br><span class="line"><span class="comment">//video交互触发（否则报错）</span></span><br></pre></td></tr></table></figure>
<p>视频可以在空间中用平面播放出来，还有基于此实现简单VR视频的方法，用将视频铺满屏幕，然后设置相机可转动角度，再设置交互。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/12/07/video/" data-id="clpy7t5cd0000zcty9wr199ei" data-title="video" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Fabric-js" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/04/Fabric-js/" class="article-date">
  <time class="dt-published" datetime="2023-11-04T05:18:16.000Z" itemprop="datePublished">2023-11-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/04/Fabric-js/">Fabric.js</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Fabric.js是一个强大的JavaScript库，用于在网页上创建交互式的绘图和图形编辑应用程序。它提供了丰富的功能和灵活的API，使开发者能够轻松地实现各种绘图和图形编辑功能。</p>
<p>了解了过后我发现fabric.js相较于原生canvas有以下三个优点：</p>
<ul>
<li>交互性：Fabric.js 提供了一套内置的交互功能，如拖拽、缩放、旋转和分组。</li>
<li>事件处理：Fabric.js 为图形对象提供了事件处理机制。</li>
<li>动画系统：基于Fabric.js的动画更抽象直观</li>
</ul>
<h3 id="交互性"><a href="#交互性" class="headerlink" title="交互性"></a>交互性</h3><p>什么？直接在canvas上拖拽图形？</p>
<p>我们都知道canvas画出来后就是一堆像素，没有图形整体的概念，所以想实现拖拽图形的效果，就只能做鼠标区域选中然后setInterval一张张根据鼠标坐标重绘，劈里啪啦写一大堆。好麻烦</p>
<p>但是只要用上了Fabric.js,只需要初始化一个图形，就自动能达到这个效果，还附送你旋转缩放，垂直水平拉伸效果。这不爽死</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="keyword">new</span> fabric.<span class="title class_">Canvas</span>(<span class="string">&#x27;c&#x27;</span>) <span class="comment">// 这里是canvas的id</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 创建一个长方形</span></span><br><span class="line"> <span class="keyword">const</span> rect = <span class="keyword">new</span> fabric.<span class="title class_">Rect</span>(&#123;</span><br><span class="line">   <span class="attr">top</span>: <span class="number">100</span>, <span class="comment">// 距离容器顶部 30px</span></span><br><span class="line">   <span class="attr">left</span>: <span class="number">100</span>, <span class="comment">// 距离容器左侧 30px</span></span><br><span class="line">   <span class="attr">width</span>: <span class="number">100</span>, <span class="comment">// 宽 100px</span></span><br><span class="line">   <span class="attr">height</span>: <span class="number">100</span>, <span class="comment">// 高 60px</span></span><br><span class="line">   <span class="attr">fill</span>: <span class="string">&#x27;red&#x27;</span> <span class="comment">// 填充 红色</span></span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line"> canvas.<span class="title function_">add</span>(rect)</span><br></pre></td></tr></table></figure>
<p>注意<code>const canvas = new fabric.Canvas(&#39;c&#39;)</code>中将改成<code>fabric.StaticCanvas</code>后既是限定静态画布，不可交互。</p>
<p>当然有时候我们不需要每一个图形都有这么多交互属性，此时我们可以设置其对应交互属性将其禁用。如使用 <code>rect.lockMovementX=true</code>禁止对象水平移动，类似还有<code>lockMovementY</code>、<code>lockRotation</code>、<code>lockScalingX</code>。</p>
<hr>
<p>这个时候又有新的问题了，拖动缩放旋转后，图形的宽高，位置属性改变了，我们该怎么获取呢？如果你伸缩后直接打印元素的宽高，你会发现其宽高属性没变，所以这是一个大坑，要获取改变后宽高要调用对应api，而其位置属性top，left却不，直接调用即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;原宽：&quot;</span>+rect.<span class="property">width</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;原高：&quot;</span>+rect.<span class="property">height</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;with:&quot;</span>+rect.<span class="title function_">getScaledWidth</span>());</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;height:&quot;</span>+rect.<span class="title function_">getScaledHeight</span>());</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;top：&quot;</span>+rect.<span class="property">top</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;left：&quot;</span>+rect.<span class="property">left</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;----------&quot;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h4><p><code>new fabric.Group</code> 可以创建一个组（把多个图层放在同一个组内，实现同步的操作，比如拖拽、缩放等）,这解决了图形之间孤立的问题。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ellipse = <span class="keyword">new</span> fabric.<span class="title class_">Ellipse</span>(&#123;</span><br><span class="line">    <span class="attr">top</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">left</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">rx</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">ry</span>: <span class="number">50</span>,</span><br><span class="line">    <span class="attr">fill</span>: <span class="string">&#x27;#ddd&#x27;</span>,</span><br><span class="line">    <span class="attr">originX</span>: <span class="string">&#x27;center&#x27;</span>, <span class="comment">// 旋转x轴：left, right, center</span></span><br><span class="line">    <span class="attr">originY</span>: <span class="string">&#x27;center&#x27;</span> <span class="comment">// 旋转y轴：top, bottom, center</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 文本</span></span><br><span class="line">  <span class="keyword">const</span> text = <span class="keyword">new</span> fabric.<span class="title class_">Text</span>(<span class="string">&#x27;Hello World&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">top</span>: <span class="number">40</span>,</span><br><span class="line">    <span class="attr">left</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">fontSize</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">originX</span>: <span class="string">&quot;center&quot;</span>,</span><br><span class="line">    <span class="attr">originY</span>: <span class="string">&quot;center&quot;</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 建组</span></span><br><span class="line">  <span class="keyword">const</span> group = <span class="keyword">new</span> fabric.<span class="title class_">Group</span>([ellipse, text], &#123;</span><br><span class="line">    <span class="attr">top</span>: <span class="number">50</span>, <span class="comment">// 整组距离顶部100</span></span><br><span class="line">    <span class="attr">left</span>: <span class="number">100</span>, <span class="comment">// 整组距离左侧100</span></span><br><span class="line">    <span class="attr">angle</span>: -<span class="number">10</span>, <span class="comment">// 整组旋转-10deg</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  canvas.<span class="title function_">add</span>(group)</span><br></pre></td></tr></table></figure>
<p>Group对象的一些其他的方法：</p>
<ul>
<li>getObjects()返回一组中所有对象的数组</li>
<li>size() 所有对象的数量</li>
<li>contains() 检查特定对象是否在 group 中</li>
<li>item() 组中元素</li>
<li>forEachObject() 遍历组中对象</li>
<li>add() 添加元素对象</li>
<li>remove() 删除元素对象</li>
<li>fabric.util.object.clone() 克隆</li>
</ul>
<p>使用<code>canvas.getActiveObject()</code>可以获取画布当前选中的对象，然后再通过<code>toActiveSelection()</code>将组打散。</p>
<h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><p>canvas所谓的动画，就是一帧一帧的改变重绘，每一次重绘的逻辑写在更新函数中，在一些复杂判断中好使，但是每次一些简单的动画也怎么写就有些麻烦了。我们看看Fabric.js中动画的实现吧</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rect.<span class="title function_">animate</span>(<span class="string">&#x27;angle&#x27;</span>, <span class="string">&quot;-50&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">onChange</span>:canvas.<span class="property">renderAll</span>.<span class="title function_">bind</span>(canvas), </span><br><span class="line">  <span class="comment">//每一帧的回调或者每动一点点让canvas重新渲染</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>animate三个参数：</p>
<ol>
<li>第一个参数是要设置动画的类型。</li>
<li>第二个参数是动画的结束值。</li>
<li>第三个参数是一个对象，包括:<br>{<br><br>duration：动画持续时间（以毫秒为单位）。<br><br>easing：动画的缓动函数，控制动画速度曲线。<br><br>onStart：动画开始时执行的回调函数。<br><br>onChange：动画过程中在每一帧执行的回调函数。<br><br>onComplete：动画完成时执行的回调函数。<br><br>abort：一个布尔值，表示是否中止当前的动画。<br><br>}</li>
</ol>
<p>attention！啥是绝对动画，啥事相对动画啊？我们看animate的第二个参数：动画结束的值，这个值是个啥值？是你要他转到哪，还是转一个固定的角度？</p>
<p>当我们写一个具体的值时，自然会转到对应值的地方，无论初始状态。这是绝对<br>当我们写为“+&#x3D;50”这种时，就会按方向转走对应50度。这是相对。</p>
<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p>我们写原生canvas的时候，想做一个点击对应图形的触发事件，就要获取鼠标点击坐标，然后获取我们图形的区域，再判读是否再区域中，特别是更新渲染后还要获取新的数据，十分麻烦。</p>
<p>对象事件：</p>
<ul>
<li>mousedown：当鼠标按下对象时触发。</li>
<li>mouseup：当鼠标释放对象时触发。</li>
<li>mousemove：当鼠标在对象上移动时触发。</li>
<li>mouseover：当鼠标悬停在对象上时触发。</li>
<li>mouseout：当鼠标移出对象时触发。</li>
<li>click：当鼠标在对象上单击时触发。</li>
<li>dblclick：当鼠标在对象上双击时触发。</li>
</ul>
<p>画布事件：</p>
<ul>
<li>object:added：当对象被添加到画布时触发。</li>
<li>object:removed：当对象从画布中移除时触发。</li>
<li>before:selection:cleared：在清除选择之前触发。</li>
<li>selection:cleared：当选择被清除时触发。</li>
<li>selection:created：当创建新选择时触发。</li>
<li>selection:updated：当选择更新时触发。</li>
</ul>
<p>窗口事件：</p>
<ul>
<li>resize：当窗口大小调整时触发。</li>
</ul>
<p>Fabric.js 中，可以使用<code>on</code>方法来为对象、画布或其他元素注册事件监听器，以便在特定事件发生时执行自定义的操作。</p>
<p><code>element.on(eventName, eventHandler);</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rect.<span class="title function_">on</span>(<span class="string">&#x27;selected&#x27;</span>, <span class="function"><span class="params">options</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;选中矩形啦&#x27;</span>, options)</span><br><span class="line">&#125;)</span><br><span class="line">rect.<span class="title function_">on</span>(<span class="string">&#x27;mouseover&#x27;</span>,<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;over矩形啦&#x27;</span>, data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="自由绘画模式"><a href="#自由绘画模式" class="headerlink" title="自由绘画模式"></a>自由绘画模式</h3><p>在使用<code>new fabric.Canvas </code>创建画布时，设置 <code>isDrawingMode: true </code>就可以开始自由绘画模式。</p>
<p><code>canvas.freeDrawingBrush</code>里有一堆属性可以设置画笔样式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="keyword">new</span> fabric.<span class="title class_">Canvas</span>(<span class="string">&#x27;c&#x27;</span>, &#123;</span><br><span class="line">   <span class="attr">isDrawingMode</span>: <span class="literal">true</span>, <span class="comment">// 开启绘图模式</span></span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 设置画笔颜色</span></span><br><span class="line"> canvas.<span class="property">freeDrawingBrush</span>.<span class="property">color</span> = <span class="string">&#x27;#11999e&#x27;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 设置画笔粗细</span></span><br><span class="line"> canvas.<span class="property">freeDrawingBrush</span>.<span class="property">width</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 画笔投影</span></span><br><span class="line"> canvas.<span class="property">freeDrawingBrush</span>.<span class="property">shadow</span> = <span class="keyword">new</span> fabric.<span class="title class_">Shadow</span>(&#123;</span><br><span class="line">   <span class="attr">blur</span>: <span class="number">10</span>,</span><br><span class="line">   <span class="attr">offsetX</span>: <span class="number">10</span>,</span><br><span class="line">   <span class="attr">offsetY</span>: <span class="number">10</span>,</span><br><span class="line">   <span class="attr">affectStroke</span>: <span class="literal">true</span>,</span><br><span class="line">   <span class="attr">color</span>: <span class="string">&#x27;#30e3ca&#x27;</span>,</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>


<p>这Fabric中的canvas元素给我一种dom元素的感觉，能直接选中点击，能直接绑定对应事件，动画属性和CSS3的动画也很像。不错，好使。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/04/Fabric-js/" data-id="clojq4v8f0000bctyeg1jhu0j" data-title="Fabric.js" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-JS事件流" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/10/18/JS%E4%BA%8B%E4%BB%B6%E6%B5%81/" class="article-date">
  <time class="dt-published" datetime="2023-10-18T06:57:57.000Z" itemprop="datePublished">2023-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/10/18/JS%E4%BA%8B%E4%BB%B6%E6%B5%81/">JS事件流</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="事件和事件流"><a href="#事件和事件流" class="headerlink" title="事件和事件流"></a>事件和事件流</h2><p>前端是人机交互的艺术，而交互就必然要有事件，没有事件的静态网页无法满足我们的需求。</p>
<p>什么是事件？鼠标点击、滚动，键盘输入，甚至移动一下鼠标都是事件。他们的存在会触发元素的响应。事件就是与浏览器或文档交互的瞬间，如点击按钮，填写表格等，它是JS与HTML之间交互的桥梁。</p>
<p>而我们知道dom是树状结构的整体，单个元素对应的事件可能会影响到整个dom。<br>看看下面这个例子：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;div1&quot;</span> onclick=&#123;<span class="function">()=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;div1&quot;</span>)&#125;&gt;</span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span> <span class="attr">onclick</span>=<span class="string">&#123;()</span>=&gt;</span>console.log(&quot;div2&quot;)&#125;&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>显然，在我们点击<code>div2</code>时，会输出<em>div1 div2</em>，这是我们常说的事件冒泡。</p>
<p>事件流指的是，当有事件发生时，当前节点和根节点之间按照一定的顺序传播的过程就是事件流。通常会分为冒泡事件和捕获事件，而这两种事件传播过程恰好是相反的。</p>
<h2 id="事件流的传播"><a href="#事件流的传播" class="headerlink" title="事件流的传播"></a>事件流的传播</h2><p>在介绍事件捕获和事件冒泡之前，先来看下一个事件是如何在 DOM 内部传播的。</p>
<p>如果我们有几个嵌套的元素处理同一个事件，我们会对哪个事件处理程序会先触发的问题感到困惑。这时，理解事件传播顺序就变得很有必要。</p>
<p>JavaScript 事件分为三个阶段：</p>
<ul>
<li>捕获阶段：事件从父元素开始向目标元素传播，从 Window 对象开始传播。</li>
<li>目标阶段：该事件到达目标元素或开始该事件的元素。</li>
<li>冒泡阶段：这时与捕获阶段相反，事件向父元素传播，直到 Window 对象。</li>
</ul>
<p><img src="/images/dom_3.png" alt="img"></p>
<h2 id="事件捕获与事件冒泡"><a href="#事件捕获与事件冒泡" class="headerlink" title="事件捕获与事件冒泡"></a>事件捕获与事件冒泡</h2><p>下面是一个事件捕获的例子：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span>&gt;</span>click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Window&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;,<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Document&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;,<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#div2&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123; </span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;DIV 2&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;,<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#div1&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;DIV 1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;,<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;button&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;CLICK ME!&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;,<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>运行后我们可以看见点击button后，click事件由顶端的window依次触发到button，这个过程像是从头开始沿着dom树找到、捕获到对应所要的元素事件。</p>
<p>再看看事件冒泡：</p>
<p>🌰就不举了，和捕获反着来就行，挺简单。我们看看他的应用：</p>
<h4 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h4><p>当我们有很多元素需要绑定相似的事件处理器时，而这些元素又经常发生变化（如添加或删除）时，直接为每个元素绑定事件处理器肯定不得行。事件委托是一个解决方法，允许我们只在一个共同的祖先元素上绑定一个事件处理器，然后利用事件冒泡的特性来处理其子元素上触发的事件。这样做的好处是减少了事件处理器的数量，提高了性能，并简化了代码管理。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;ul&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">target</span>.<span class="property">tagName</span>.<span class="title function_">toLowerCase</span>() === <span class="string">&#x27;li&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// 处理点击事件</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>注意由冒泡触发的事件中，函数执行中的event还是会指向原始的点击元素，不是冒泡到谁event就是谁。所以上面冒泡触发到<code>ul</code>的函数中直接比较event的tagName即可。</p>
<h4 id="阻止冒泡"><a href="#阻止冒泡" class="headerlink" title="阻止冒泡"></a>阻止冒泡</h4><p>有时，如果事件冒泡和捕捉开始不受我们控制地传播时，就会让人感到厌烦。如果你有一个严重嵌套的元素结构（card and button），这也会导致性能问题，因为每个事件都会创建一个新的事件周期。</p>
<p>我们可以使用<code>stopPropagation()</code>方法来避免这种行为，它将阻止事件沿着 DOM 树向上或向下进一步传播。将其写在你想停止冒泡的级别元素的对应触发事件即可。</p>
<h3 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener"></a>addEventListener</h3><p>addEventListener( name , function , boolean )</p>
<p>boolean (true) :该事件为捕获事件，当事件触发时候，在捕获阶段就执行</p>
<p>boolean (false) :(defualt choice)该事件为冒泡事件，当事件触发时候，在冒泡阶段就执行</p>
<p>相信大家已经了解了，那看看接下来的例子：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;console.log(&#x27;555&#x27;)&quot;</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> div2=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div2&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> div1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        div1.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A&quot;</span>);&#125;, <span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">        div2.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;B&quot;</span>);&#125;);</span></span><br><span class="line"><span class="language-javascript">        div1.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;C&quot;</span>);&#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="language-javascript">        div2.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;D&quot;</span>);&#125;, <span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>说说其输出吧</p>
<h2 id="DOM级别"><a href="#DOM级别" class="headerlink" title="DOM级别"></a>DOM级别</h2><p>怎么就dom级别了呢？好吧，我们上面讲的事件冒泡和事件捕获都是dom2中的概念。dom级别就和es5，es6这样是迭代的版本似的。让我们细细的看看。</p>
<ol>
<li><p>DOM0级事件模型：这是传统的事件绑定方式，直接在HTML元素上绑定事件或在JavaScript代码中通过赋值的方式进行事件绑定。例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 事件处理代码</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>当时还没有事件冒泡的概念，不过之后DOM0确实符合事件冒泡的规则，所以也不用在意,我们可以把它归类于dom2三个阶段中的执行目标事件中。</p>
</li>
<li><p>DOM2级事件模型：DOM2级事件定义了两个主要的方法用于添加和移除事件，分别是addEventListener和removeEventListener。通过这种方式，可以为同一个元素绑定多个同类型的事件处理函数，而且还可以指定是在事件捕获阶段还是冒泡阶段触发事件处理函数。例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 事件处理代码</span></span><br><span class="line">&#125;, <span class="literal">false</span>);  <span class="comment">// false表示在冒泡阶段处理，true表示在捕获阶段处理</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>DOM3级事件模型：在DOM2基础上进行了扩展，引入了更多的事件类型和定义，例如键盘事件、文本事件等。</p>
</li>
</ol>
<h3 id="杂谈"><a href="#杂谈" class="headerlink" title="杂谈"></a>杂谈</h3><ul>
<li><p>历史渊源：在早期的Internet Explorer浏览器中，事件模型是基于冒泡的。Netscape 4.0，一个早期的Web浏览器，采用了与IE完全相反的事件模型，即事件捕获。为了解决这两种完全不同的事件模型之间的不兼容性，W3C在DOM2级事件模型中提出了一个统一的解决方案，即DOM事件流。</p>
</li>
<li><p>不是所有的事件都能冒泡。以下事件不冒泡：blur、focus、load、unload</p>
<p>为了解决这个问题，DOM3级事件模型引入了新的事件，如<code>focusin</code>和<code>focusout</code>，这些事件的行为类似于focus和blur，但它们是可以冒泡的。</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/10/18/JS%E4%BA%8B%E4%BB%B6%E6%B5%81/" data-id="clnvgg7vz0000o4ty6qqffcmr" data-title="JS事件流" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/10/16/hello-world/" class="article-date">
  <time class="dt-published" datetime="2023-10-16T15:14:36.865Z" itemprop="datePublished">2023-10-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/10/16/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/10/16/hello-world/" data-id="clnt1j2rx0000x8tycw1a5f7a" data-title="Hello World" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/01/24/canvas%E5%9F%BA%E7%A1%80/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/12/07/video/">video</a>
          </li>
        
          <li>
            <a href="/2023/11/04/Fabric-js/">Fabric.js</a>
          </li>
        
          <li>
            <a href="/2023/10/18/JS%E4%BA%8B%E4%BB%B6%E6%B5%81/">JS事件流</a>
          </li>
        
          <li>
            <a href="/2023/10/16/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>